{
  "$schema": "https://www.raycast.com/schemas/extension.json",
  "name": "anki-ai",
  "title": "Anki AI",
  "description": "Create Anki flashcards with AI quickly and efficiently. Transform texts into personalized study cards with artificial intelligence assistance.",
  "icon": "icon.png",
  "author": "sudo-psc",
  "license": "MIT",
  "categories": [
    "Productivity",
    "Other"
  ],
  "commands": [
    {
      "name": "generateFlashcard",
      "title": "Generate Flashcards",
      "subtitle": "Anki AI Flashcard Generator",
      "description": "Generate flashcards with AI and export to Anki",
      "mode": "view",
      "icon": "icon.png"
    },
    {
      "name": "preferences",
      "title": "Settings",
      "subtitle": "Anki AI Preferences",
      "description": "Configure advanced settings for flashcard generation, such as default language, difficulty level, and AI model.",
      "mode": "view",
      "icon": "gear-icon.png"
    }
  ],
  "tools": [
    {
      "name": "ai-flashcards-generator",
      "title": "AI Flashcards Generator",
      "description": "AI flashcards Generator for Anki",
      "arguments": [
        {
          "name": "text",
          "placeholder": "Text to generate flashcards from",
          "required": true,
          "type": "text"
        }
      ]
    }
  ],
  "preferences": [
    {
      "name": "defaultLanguage",
      "title": "Default Language",
      "description": "Default language for flashcard generation",
      "type": "dropdown",
      "required": true,
      "default": "english",
      "data": [
        {
          "title": "English",
          "value": "english"
        },
        {
          "title": "Portuguese",
          "value": "português"
        },
        {
          "title": "Spanish",
          "value": "español"
        }
      ]
    },
    {
      "name": "defaultDifficultyLevel",
      "title": "Default Difficulty Level",
      "description": "Default difficulty level for generated flashcards",
      "type": "dropdown",
      "required": false,
      "default": "intermediate",
      "data": [
        {
          "title": "Beginner",
          "value": "beginner"
        },
        {
          "title": "Intermediate",
          "value": "intermediate"
        },
        {
          "title": "Advanced",
          "value": "advanced"
        }
      ]
    },
    {
      "name": "defaultModel",
      "title": "AI Model",
      "description": "AI model for flashcard generation",
      "type": "dropdown",
      "required": false,
      "data": [
        {
          "title": "Default",
          "value": ""
        },
        {
          "title": "Ray-1",
          "value": "RAY1"
        },
        {
          "title": "Ray-1 mini",
          "value": "RAY1_MINI"
        },
        {
          "title": "GPT-3.5",
          "value": "GPT3_5"
        },
        {
          "title": "GPT-4",
          "value": "GPT4"
        },
        {
          "title": "GPT-4 Turbo",
          "value": "GPT4_TURBO"
        },
        {
          "title": "GPT-4o",
          "value": "GPT4o"
        },
        {
          "title": "GPT-4o Mini",
          "value": "GPT4o_MINI"
        },
        {
          "title": "OpenAI o1",
          "value": "O1"
        },
        {
          "title": "OpenAI o1-mini",
          "value": "O1_MINI"
        },
        {
          "title": "OpenAI o3-mini",
          "value": "O3_MINI"
        },
        {
          "title": "Claude 3.5 Haiku",
          "value": "CLAUDE3_5_HAIKU"
        },
        {
          "title": "Claude 3.5 Sonnet",
          "value": "CLAUDE3_5_SONNET"
        },
        {
          "title": "Claude 3.7 Sonnet",
          "value": "CLAUDE3_7_SONNET"
        },
        {
          "title": "Claude 3 Opus",
          "value": "CLAUDE3_OPUS"
        },
        {
          "title": "Claude 3 Sonnet",
          "value": "CLAUDE3_SONNET"
        },
        {
          "title": "Claude 3 Haiku",
          "value": "CLAUDE3_HAIKU"
        },
        {
          "title": "Perplexity Sonar",
          "value": "PERPLEXITY_SONAR"
        },
        {
          "title": "Perplexity Sonar Pro",
          "value": "PERPLEXITY_SONAR_PRO"
        },
        {
          "title": "Perplexity Sonar Reasoning",
          "value": "PERPLEXITY_SONAR_REASONING"
        },
        {
          "title": "Llama 3.3 70B",
          "value": "LLAMA3_3_70B"
        },
        {
          "title": "Llama 3.1 8B",
          "value": "LLAMA3_1_8B"
        },
        {
          "title": "Llama 3 70B",
          "value": "LLAMA3_70B"
        },
        {
          "title": "Llama 3.1 405B",
          "value": "LLAMA3_1_405B"
        },
        {
          "title": "Llama 3 8B",
          "value": "LLAMA3_8B"
        },
        {
          "title": "Mixtral 8x7B",
          "value": "MIXTRAL_8X7B"
        },
        {
          "title": "Mistral Nemo",
          "value": "MISTRAL_NEMO"
        },
        {
          "title": "Mistral Large",
          "value": "MISTRAL_LARGE"
        },
        {
          "title": "Mistral Small 3",
          "value": "MISTRAL_SMALL_3"
        },
        {
          "title": "Mistral Medium",
          "value": "MISTRAL_MEDIUM"
        },
        {
          "title": "Mistral Small",
          "value": "MISTRAL_SMALL"
        },
        {
          "title": "Codestral",
          "value": "CODESTRAL"
        },
        {
          "title": "DeepSeek R1 Distill Llama 70B",
          "value": "DEEPSEEK_R1_DISTILL_LLAMA_70B"
        },
        {
          "title": "DeepSeek-R1",
          "value": "DEEPSEEK_R1"
        },
        {
          "title": "Gemini 1.5 Flash",
          "value": "GEMINI_1_5_FLASH"
        },
        {
          "title": "Gemini 1.5 Pro",
          "value": "GEMINI_1_5_PRO"
        },
        {
          "title": "Gemini 2.0 Flash",
          "value": "GEMINI_2_0_FLASH"
        },
        {
          "title": "Gemini 2.0 Flash Thinking",
          "value": "GEMINI_2_0_FLASH_THINKING"
        },
        {
          "title": "Gemini Pro",
          "value": "GEMINI_PRO"
        },
        {
          "title": "Grok-2",
          "value": "GROK_2"
        }
      ]
    },
    {
      "name": "defaultDeck",
      "title": "Default Deck",
      "description": "Name of the default deck to add flashcards (leave blank to use the first available deck)",
      "type": "textfield",
      "required": false,
      "placeholder": "Default"
    },
    {
      "name": "ankiConnectPort",
      "title": "AnkiConnect Port",
      "description": "Port for connection with AnkiConnect (default: 8765)",
      "type": "textfield",
      "required": false,
      "default": "8765"
    },
    {
      "name": "customPromptTemplate",
      "title": "Custom Prompt Template",
      "description": "Custom template for flashcard generation. Use {text} for input text and {language} for language.",
      "type": "textfield",
      "required": false,
      "placeholder": "Transform the following text into flashcards in JSON format with 'front', 'back' and 'extra' fields. Language: {language}. Text: {text}"
    },
    {
      "name": "minFlashcards",
      "title": "Minimum Number of Flashcards",
      "description": "Minimum number of flashcards to be generated",
      "type": "textfield",
      "required": false,
      "default": "5"
    },
    {
      "name": "maxFlashcards",
      "title": "Maximum Number of Flashcards",
      "description": "Maximum number of flashcards to be generated",
      "type": "textfield",
      "required": false,
      "default": "20"
    },
    {
      "name": "enableTags",
      "title": "Enable Tags",
      "description": "Automatically generate tags for flashcards",
      "type": "checkbox",
      "required": false,
      "default": true,
      "label": "Enable automatic tag generation"
    },
    {
      "name": "debugMode",
      "title": "Debug Mode",
      "description": "Enable detailed logs for debugging",
      "type": "checkbox",
      "required": false,
      "default": false,
      "label": "Enable debug mode"
    }
  ],
  "ai": {
    "evals": [
      {
        "input": "Generate flashcards about the solar system, including planets and their main characteristics",
        "expected": [
          {
            "callsTool": "ai-flashcards-generator",
            "label": "Generate flashcards about the solar system"
          },
          {
            "containsFlashcards": true,
            "minimumFlashcards": 5
          }
        ]
      },
      {
        "input": "Generate flashcards to learn basic Spanish vocabulary about food and drinks",
        "expected": [
          {
            "callsTool": "ai-flashcards-generator",
            "label": "Generate flashcards about basic vocabulary in Spanish for food and drinks"
          },
          {
            "containsFlashcards": true,
            "containsSpanish": true
          }
        ]
      },
      {
        "input": "Generate flashcards about basic programming concepts like variables, functions, loops, and conditionals",
        "expected": [
          {
            "callsTool": "ai-flashcards-generator",
            "label": "Generate flashcards about basic programming concepts"
          },
          {
            "callsFunction": "testAnkiConnection"
          },
          {
            "containsFlashcards": true,
            "containsEnglish": true,
            "minimumFlashcards": 5
          }
        ]
      },
      {
        "input": "Create flashcards about Brazilian history",
        "expected": [
          {
            "callsTool": "ai-flashcards-generator",
            "label": "Generate flashcards about Brazilian history"
          },
          {
            "containsFlashcards": true,
            "containsEnglish": true
          }
        ]
      },
      {
        "input": "Generate flashcards about the main digital marketing concepts",
        "expected": [
          {
            "callsTool": "ai-flashcards-generator",
            "label": "Generate flashcards about digital marketing concepts"
          },
          {
            "containsFlashcards": true,
            "containsEnglish": true
          }
        ]
      },
      {
        "input": "Generate flashcards about basic programming concepts like variables, functions, loops, and conditionals",
        "expected": [
          {
            "callsTool": "ai-flashcards-generator",
            "label": "Generate flashcards about basic programming concepts"
          },
          {
            "callsFunction": "testAnkiConnection"
          },
          {
            "containsFlashcards": true,
            "containsEnglish": true,
            "minimumFlashcards": 5
          }
        ]
      }
    ]
  },
  "dependencies": {
    "@raycast/api": "^1.93.0",
    "@raycast/utils": "^1.17.0",
    "axios": "^1.8.1",
    "node-fetch": "^2.7.0"
  },
  "devDependencies": {
    "@raycast/eslint-config": "^1.0.11",
    "@testing-library/react-hooks": "^3.7.0",
    "@types/jest": "^29.5.12",
    "@types/node": "20.8.10",
    "@types/node-fetch": "^2.6.12",
    "@types/react": "18.3.3",
    "eslint": "^8.57.0",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "jest-fetch-mock": "^3.0.3",
    "prettier": "^3.3.3",
    "ts-jest": "^29.1.2",
    "typescript": "^5.7.3"
  },
  "scripts": {
    "build": "ray build",
    "dev": "ray develop",
    "fix-lint": "ray lint --fix",
    "lint": "ray lint",
    "test": "jest",
    "prepublishOnly": "echo \"\\n\\nIt seems like you are trying to publish the Raycast extension to npm.\\n\\nIf you did intend to publish it to npm, remove the \\`prepublishOnly\\` script and rerun \\`npm publish\\` again.\\nIf you wanted to publish it to the Raycast Store instead, use \\`npm run publish\\` instead.\\n\\n\" && exit 1",
    "publish": "npx @raycast/api@latest publish"
  },
  "screenshots": [
    {
      "file": "screenshot-1.png",
      "title": "Flashcard Preview"
    },
    {
      "file": "screenshot-2.png",
      "title": "Flashcard Generation"
    }
  ]
}
